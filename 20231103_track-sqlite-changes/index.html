<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Tracking SQLite Database Changes in Git - JerrysBlog</title><meta name=Description content><meta property="og:title" content="Tracking SQLite Database Changes in Git">
<meta property="og:description" content="SQLite stores data in binary. If you run cat mydb.sqlite, you&rsquo;ll see a bunch of gibberish that doesn&rsquo;t resemble structured data at all. If you want to track changes and updates to a database using Git, you won&rsquo;t be able to see full diffs by default."><meta property="og:type" content="article"><meta property="og:url" content="https://jerrysmd.github.io/20231103_track-sqlite-changes/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-03T07:13:59+08:00"><meta property="article:modified_time" content="2023-11-03T07:13:59+08:00"><meta property="og:site_name" content="JerrysBlog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tracking SQLite Database Changes in Git"><meta name=twitter:description content="SQLite stores data in binary. If you run cat mydb.sqlite, you&rsquo;ll see a bunch of gibberish that doesn&rsquo;t resemble structured data at all. If you want to track changes and updates to a database using Git, you won&rsquo;t be able to see full diffs by default."><meta name=application-name content="JerrysBlog"><meta name=apple-mobile-web-app-title content="JerrysBlog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=https://cdn-icons-png.flaticon.com/128/5584/5584593.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://jerrysmd.github.io/20231103_track-sqlite-changes/><link rel=prev href=https://jerrysmd.github.io/20231102_davinci-color-grading/><link rel=next href=https://jerrysmd.github.io/20231104_jdk21-new-feature/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css></noscript><link rel=preload href=https://unpkg.com/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Tracking SQLite Database Changes in Git","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/jerrysmd.github.io\/20231103_track-sqlite-changes\/"},"genre":"posts","keywords":"Git, SQL","wordcount":637,"url":"https:\/\/jerrysmd.github.io\/20231103_track-sqlite-changes\/","datePublished":"2023-11-03T07:13:59+08:00","dateModified":"2023-11-03T07:13:59+08:00","publisher":{"@type":"Organization","name":"xxxx","logo":"https:\/\/jerrysmd.github.io\/images\/avatar.png"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=JerrysBlog><span class=header-title-pre><i class='far fa-edit fa-fw' aria-hidden=true></i></span>JERRYSBLOG</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/ title=Home>Home </a><a class=menu-item href=/categories/technology/ title="Technology article list">Technology </a><a class=menu-item href=/categories/life/ title="Life article list">Life </a><a class=menu-item href=/tags/ title="Tags cloud">Tags </a><a class=menu-item href=/about/ title="About blog">About </a><a class=menu-item href=https://github.com/Jerrysmd title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-moon fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=JerrysBlog><span class=header-title-pre><i class='far fa-edit fa-fw' aria-hidden=true></i></span>JERRYSBLOG</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/ title=Home>Home</a><a class=menu-item href=/categories/technology/ title="Technology article list">Technology</a><a class=menu-item href=/categories/life/ title="Life article list">Life</a><a class=menu-item href=/tags/ title="Tags cloud">Tags</a><a class=menu-item href=/about/ title="About blog">About</a><a class=menu-item href=https://github.com/Jerrysmd title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-moon fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Tracking SQLite Database Changes in Git</h1><div class=post-meta><div class=post-meta-line><span class=post-category>Category
<a href=/categories/technology/><i class="far fa-folder fa-fw" aria-hidden=true></i>Technology</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-11-03>2023-11-03</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;637 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;3 minutes&nbsp;<span id=/20231103_track-sqlite-changes/ class=leancloud_visitors data-flag-title="Tracking SQLite Database Changes in Git">
<i class="far fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;views
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents></nav></div></div><div class=content id=content><p>SQLite stores data in binary. If you run <code>cat mydb.sqlite</code>, you&rsquo;ll see a bunch of gibberish that doesn&rsquo;t resemble structured data at all. If you want to track changes and updates to a database using Git, you won&rsquo;t be able to see full diffs by default.</p><p>You&rsquo;ll see that the file has changed, but not what changed exactly:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>diff --git a/mydb.sqlite b/mydb.sqlite
</span></span><span class=line><span class=cl>index f412c72..8f49ea5 <span class=m>100644</span>
</span></span><span class=line><span class=cl>Binary files a/mydb.sqlite and b/mydb.sqlite differ
</span></span></code></pre></td></tr></table></div></div><p>So, is there a way around that? Turns out: there is! Here&rsquo;s a diff between two states of the SQLite database of <a href=https://www.gnucash.org/index.phtml target=_blank rel="noopener noreffer">GnuCash</a>, which I&rsquo;m currently trying out to manage my finances. I&rsquo;ll explain how I got this diff afterwards:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>diff --git a/garritfranke.gnucash b/garritfranke.gnucash
</span></span><span class=line><span class=cl>index f412c72..8f49ea5 <span class=m>100644</span>
</span></span><span class=line><span class=cl>--- a/garritfranke.gnucash
</span></span><span class=line><span class=cl>+++ b/garritfranke.gnucash
</span></span><span class=line><span class=cl>@@ -100,18 +100,22 @@ INSERT INTO accounts VALUES<span class=o>(</span><span class=s1>&#39;ca11987c1c804da4b47b70d0fda87f10&#39;</span>,<span class=s1>&#39;Strom&#39;</span>,<span class=s1>&#39;EXPENSE&#39;</span>
</span></span><span class=line><span class=cl> INSERT INTO accounts VALUES<span class=o>(</span><span class=s1>&#39;b1674455d6ec495c8898bcfb65ef100c&#39;</span>,<span class=s1>&#39;Template Root&#39;</span>,<span class=s1>&#39;ROOT&#39;</span>,NULL,0,0,NULL,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;&#39;</span>,0,0<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>+INSERT INTO accounts VALUES<span class=o>(</span><span class=s1>&#39;9d2959ea65fc4f29b02dbc593fa9598a&#39;</span>,<span class=s1>&#39;Ausgleichskonto-EUR&#39;</span>,<span class=s1>&#39;BANK&#39;</span>,<span class=s1>&#39;26cc1292cf3e4f9584c71e7b3ec28479&#39;</span>,100,0,<span class=s1>&#39;39e1c61538e24572abfcf0f3f72022ac&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;&#39;</span>,0,0<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE TABLE budgets<span class=o>(</span>guid text<span class=o>(</span>32<span class=o>)</span> PRIMARY KEY NOT NULL, name text<span class=o>(</span>2048<span class=o>)</span> NOT NULL, description text<span class=o>(</span>2048<span class=o>)</span>, num_periods integer NOT NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE TABLE prices<span class=o>(</span>guid text<span class=o>(</span>32<span class=o>)</span> PRIMARY KEY NOT NULL, commodity_guid text<span class=o>(</span>32<span class=o>)</span> NOT NULL, currency_guid text<span class=o>(</span>32<span class=o>)</span> NOT NULL, date text<span class=o>(</span>19<span class=o>)</span> NOT NULL, <span class=nb>source</span> text<span class=o>(</span>2048<span class=o>)</span>, <span class=nb>type</span> text<span class=o>(</span>2048<span class=o>)</span>, value_num bigint NOT NULL, value_denom bigint NOT NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE TABLE transactions<span class=o>(</span>guid text<span class=o>(</span>32<span class=o>)</span> PRIMARY KEY NOT NULL, currency_guid text<span class=o>(</span>32<span class=o>)</span> NOT NULL, num text<span class=o>(</span>2048<span class=o>)</span> NOT NULL, post_date text<span class=o>(</span>19<span class=o>)</span>, enter_date text<span class=o>(</span>19<span class=o>)</span>, description text<span class=o>(</span>2048<span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>+INSERT INTO transactions VALUES<span class=o>(</span><span class=s1>&#39;db9eff5ec00145f293c85391becbefa8&#39;</span>,<span class=s1>&#39;26cc1292cf3e4f9584c71e7b3ec28479&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;2023-11-01 10:59:00&#39;</span>,<span class=s1>&#39;2023-11-01 11:36:23&#39;</span>,<span class=s1>&#39;TEST&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> INSERT INTO splits VALUES<span class=o>(</span><span class=s1>&#39;e45aeb0ac0274c6483f8deb2e7ad3743&#39;</span>,<span class=s1>&#39;10cecb081ac24ab5a369c93f96d293da&#39;</span>,<span class=s1>&#39;d229160352064f8c80090e0a10a57d9c&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;Rechnung&#39;</span>,<span class=s1>&#39;n&#39;</span>,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,0,100,0,100,NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> INSERT INTO splits VALUES<span class=o>(</span><span class=s1>&#39;bb9d2818bdc14be9bb916f3efd82e77d&#39;</span>,<span class=s1>&#39;10cecb081ac24ab5a369c93f96d293da&#39;</span>,<span class=s1>&#39;1d93d1e67aed4320bb228c16f4e28092&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;Rechnung&#39;</span>,<span class=s1>&#39;n&#39;</span>,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,25000,100,25000,100,<span class=s1>&#39;b94c643ddcda48bcb7fc58626452e825&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> INSERT INTO splits VALUES<span class=o>(</span><span class=s1>&#39;62747f45556740fe836c9f2180fe70c9&#39;</span>,<span class=s1>&#39;10cecb081ac24ab5a369c93f96d293da&#39;</span>,<span class=s1>&#39;4d6616d8c6524ead86641559539caf50&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;Rechnung&#39;</span>,<span class=s1>&#39;n&#39;</span>,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,-25000,100,-25000,100,NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>+INSERT INTO splits VALUES<span class=o>(</span><span class=s1>&#39;029f58c4d85c497c8e06ad4e52090033&#39;</span>,<span class=s1>&#39;db9eff5ec00145f293c85391becbefa8&#39;</span>,<span class=s1>&#39;a0f46eb546e34555ab4d0d3cc32c320f&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;n&#39;</span>,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,-10000,100,-10000,100,NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>+INSERT INTO splits VALUES<span class=o>(</span><span class=s1>&#39;433a48cfdd314c94a105b5db9e7839de&#39;</span>,<span class=s1>&#39;db9eff5ec00145f293c85391becbefa8&#39;</span>,<span class=s1>&#39;9d2959ea65fc4f29b02dbc593fa9598a&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;&#39;</span>,<span class=s1>&#39;n&#39;</span>,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,10000,100,10000,100,NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE TABLE slots<span class=o>(</span>id integer PRIMARY KEY AUTOINCREMENT NOT NULL, obj_guid text<span class=o>(</span>32<span class=o>)</span> NOT NULL, name text<span class=o>(</span>4096<span class=o>)</span> NOT NULL, slot_type integer NOT NULL, int64_val bigint, string_val text<span class=o>(</span>4096<span class=o>)</span>, 
</span></span><span class=line><span class=cl> INSERT INTO slots VALUES<span class=o>(</span>84,<span class=s1>&#39;d9d25d75a993434597d988baa65670bb&#39;</span>,<span class=s1>&#39;job-rate&#39;</span>,3,0,NULL,NULL,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,NULL,250,1,NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> INSERT INTO slots VALUES<span class=o>(</span>85,<span class=s1>&#39;38cde72240424e8b9e3ab5d4852c9cf0&#39;</span>,<span class=s1>&#39;job-rate&#39;</span>,3,0,NULL,NULL,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,NULL,100,1,NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>+INSERT INTO slots VALUES<span class=o>(</span>88,<span class=s1>&#39;db9eff5ec00145f293c85391becbefa8&#39;</span>,<span class=s1>&#39;date-posted&#39;</span>,10,0,NULL,NULL,<span class=s1>&#39;1970-01-01 00:00:00&#39;</span>,NULL,0,1,<span class=s1>&#39;20231101&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE TABLE recurrences<span class=o>(</span>id integer PRIMARY KEY AUTOINCREMENT NOT NULL, obj_guid text<span class=o>(</span>32<span class=o>)</span> NOT NULL, recurrence_mult integer NOT NULL, recurrence_period_type text<span class=o>(</span>2048<span class=o>)</span> NOT NULL, recurrence_period_start text<span class=o>(</span>8<span class=o>)</span> NOT NULL, recurrence_weekend_adjust text<span class=o>(</span>2048<span class=o>)</span> NOT NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE TABLE schedxactions<span class=o>(</span>guid text<span class=o>(</span>32<span class=o>)</span> PRIMARY KEY NOT NULL, name text<span class=o>(</span>2048<span class=o>)</span>, enabled integer NOT NULL, start_date text<span class=o>(</span>8<span class=o>)</span>, end_date text<span class=o>(</span>8<span class=o>)</span>, last_occur text<span class=o>(</span>8<span class=o>)</span>, num_occur integer NOT NULL, rem_occur integer NOT NULL, auto_create integer NOT NULL, auto_notify integer NOT NULL, adv_creation integer NOT NULL, adv_notify integer NOT NULL, instance_count integer NOT NULL, template_act_guid text<span class=o>(</span>32<span class=o>)</span> NOT NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE TABLE lots<span class=o>(</span>guid text<span class=o>(</span>32<span class=o>)</span> PRIMARY KEY NOT NULL, account_guid text<span class=o>(</span>32<span class=o>)</span>, is_closed integer NOT NULL<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>@@ -234,7 +239,7 @@ INSERT INTO taxtable_entries VALUES<span class=o>(</span>3,<span class=s1>&#39;1d459b285fca4de3bb4659744dc0cec5&#39;</span>,<span class=s1>&#39;d22916
</span></span></span><span class=line><span class=cl><span class=s1> INSERT INTO taxtable_entries VALUES(5,&#39;</span>6def0d3a788d414b818ecdb29ba3dcd1<span class=s1>&#39;,&#39;</span>d229160352064f8c80090e0a10a57d9c<span class=s1>&#39;,0,100000,2);
</span></span></span><span class=line><span class=cl><span class=s1> CREATE TABLE vendors(guid text(32) PRIMARY KEY NOT NULL, name text(2048) NOT NULL, id text(2048) NOT NULL, notes text(2048) NOT NULL, currency text(32) NOT NULL, active integer NOT NULL, tax_override integer NOT NULL, addr_name text(1024), addr_addr1 text(1024), addr_addr2 text(1024), addr_addr3 text(1024), addr_addr4 text(1024), addr_phone text(128), addr_fax text(128), addr_email text(256), terms text(32), tax_inc text(2048), tax_table text(32));
</span></span></span><span class=line><span class=cl><span class=s1> DELETE FROM sqlite_sequence;
</span></span></span><span class=line><span class=cl><span class=s1>-INSERT INTO sqlite_sequence VALUES(&#39;</span>slots<span class=s1>&#39;,87);
</span></span></span><span class=line><span class=cl><span class=s1>+INSERT INTO sqlite_sequence VALUES(&#39;</span>slots<span class=s1>&#39;,88);
</span></span></span><span class=line><span class=cl><span class=s1> INSERT INTO sqlite_sequence VALUES(&#39;</span>taxtable_entries<span class=err>&#39;</span>,5<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE INDEX tx_post_date_index ON transactions<span class=o>(</span>post_date<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> CREATE INDEX splits_tx_guid_index ON splits<span class=o>(</span>tx_guid<span class=o>)</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>First, add a diff type called &ldquo;sqlite3&rdquo; to your config. The simplest way is to just run these commands:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git config diff.sqlite3.binary <span class=nb>true</span>
</span></span><span class=line><span class=cl>git config diff.sqlite3.textconv <span class=s2>&#34;echo .dump | sqlite3&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Alternatively, you can add this snippet to your <code>~/.gitconfig</code> or <code>.git/config</code> in your repository:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>diff <span class=s2>&#34;sqlite3&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=nv>binary</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>        <span class=nv>textconv</span> <span class=o>=</span> <span class=s2>&#34;echo .dump | sqlite3&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, create a file called <code>.gitattributes</code> if it&rsquo;s not already present and add this line:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>*.sqlite <span class=nv>diff</span><span class=o>=</span>sqlite3
</span></span></code></pre></td></tr></table></div></div><blockquote><p><em>Note that the filename (</em><code>*.sqlite</code><em>) may differ from your setup. In my case for example, it should match files with</em> <code>*.gnucash</code><em>.</em></p></blockquote><p>And that&rsquo;s about it! The next time you run <code>git diff</code> or any other command that produces a diff on a sqlite file, you&rsquo;ll see a nicely formatted diff of the changes.</p><blockquote><p>Source</p><p><a href=https://garrit.xyz/posts/2023-11-01-tracking-sqlite-database-changes-in-git target=_blank rel="noopener noreffer">https://garrit.xyz/posts/2023-11-01-tracking-sqlite-database-changes-in-git</a></p><p><a href=https://stackoverflow.com/a/21789167 target=_blank rel="noopener noreffer">https://stackoverflow.com/a/21789167</a></p></blockquote></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/git/>Git</a>,&nbsp;<a href=/tags/sql/>SQL</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/20231102_davinci-color-grading/ class=prev rel=prev title="Color Grading DJI D-Cinelike Footage in DaVinci Resolve"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Color Grading DJI D-Cinelike Footage in DaVinci Resolve</a>
<a href=/20231104_jdk21-new-feature/ class=next rel=next title="Exploring JDK 21 New Feature: Virtual Threads">Exploring JDK 21 New Feature: Virtual Threads<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=valine class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://valine.js.org/>Valine</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2018 - 2023</span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/valine/valine.min.css><link rel=stylesheet href=https://unpkg.com/lightgallery@2.6.1/css/lightgallery-bundle.min.css><script type=text/javascript src=https://unpkg.com/valine@1.5.1/dist/Valine.min.js></script><script type=text/javascript src=https://unpkg.com/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://unpkg.com/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=https://unpkg.com/lightgallery@2.6.1/lightgallery.min.js></script><script type=text/javascript src=https://unpkg.com/lightgallery@2.6.1/plugins/thumbnail/lg-thumbnail.min.js></script><script type=text/javascript src=https://unpkg.com/lightgallery@2.6.1/plugins/zoom/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:40},comment:{valine:{appId:"2jSYKh8PFUje3v7Ie3Nn5v1g-gzGzoHsz",appKey:"MyWn4P9G5N32q3oM5JDnlpdL",avatar:"retro",el:"#valine",emojiCDN:"https://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/",enableQQ:!0,highlight:!0,lang:"en",meta:["nick","mail"],pageSize:10,placeholder:"Your comment ...",recordIP:!0,visitor:!0}},lightgallery:!0,search:{algoliaAppID:"BADKNNRXHD",algoliaIndex:"index",algoliaSearchKey:"7a8c2923330a44bdd9985698e3f28e0c",highlightTag:"em",maxResultLength:8,noResultsFound:"No results found",snippetLength:40,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>