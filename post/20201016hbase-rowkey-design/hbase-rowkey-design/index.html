
<!DOCTYPE html>
<html
  lang="en"
  data-figures="true"
  
    class="page"
  
  
    data-mode="lit"
  
  >
  <head>
<title>Hbase Rowkey Design | JerrysBlog</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?afdf91c42c0c2d3e4845f96d4bbb52be";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<meta property="og:locale" content="en" />

<meta property="og:type" content="article">
<meta name="description" content="Article description." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@0x4c2">
<meta name="twitter:title" content="Hbase Rowkey Design" />
<meta property="og:url" content="https://jerrysmd.github.io/post/20201016hbase-rowkey-design/hbase-rowkey-design/" />
<meta property="og:title" content="Hbase Rowkey Design" />
<meta property="og:description" content="Article description." />
<meta property="og:image" content="https://jerrysmd.github.io/images/thumbnail.png" />

<link rel="apple-touch-icon" sizes="180x180" href="https://jerrysmd.github.io/icons_custom/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jerrysmd.github.io/icons_custom/favicon-32x32.png">
<link rel="manifest" href="https://jerrysmd.github.io/icons_custom/site.webmanifest">

<link rel="canonical" href="https://jerrysmd.github.io/post/20201016hbase-rowkey-design/hbase-rowkey-design/">



<link rel="preload" href="https://jerrysmd.github.io/css/styles.367129801480fead578d7a356a98fcb3bce794981ff18cee55868d198d0d2bf1eb4feac97319d0871c6255183b9fd27a7059e4632c785951f4c4f6953559c4d0.css" integrity = "sha512-NnEpgBSA/q1XjXo1apj8s7znlJgf8YzuVYaNGY0NK/HrT&#43;rJcxnQhxxiVRg7n9J6cFnkYyx4WVH0xPaVNVnE0A==" as="style" crossorigin="anonymous">



<link rel="preload" href="https://jerrysmd.github.io/en/js/bundle.7e81ac137d1f84e941adfb92245f528909b3285c6967a9abcc0a1968fc4b04d260257a4985b0c5f7d54a9a764f354b296ce2f0f4b7c1e570439073a2d688e2fe.js" as="script" integrity=
"sha512-foGsE30fhOlBrfuSJF9SiQmzKFxpZ6mrzAoZaPxLBNJgJXpJhbDF99VKmnZPNUspbOLw9LfB5XBDkHOi1oji/g==" crossorigin="anonymous">


<link rel="stylesheet" type="text/css" href="https://jerrysmd.github.io/css/styles.367129801480fead578d7a356a98fcb3bce794981ff18cee55868d198d0d2bf1eb4feac97319d0871c6255183b9fd27a7059e4632c785951f4c4f6953559c4d0.css" integrity="sha512-NnEpgBSA/q1XjXo1apj8s7znlJgf8YzuVYaNGY0NK/HrT&#43;rJcxnQhxxiVRg7n9J6cFnkYyx4WVH0xPaVNVnE0A==" crossorigin="anonymous">
<link rel="stylesheet" href="/css_custom/custom.css">

  </head>
  <body
    data-code="40"
    data-lines="true"
    id="documentTop"
  >

<header class="nav_header" >
  <nav class="nav"><a href='https://jerrysmd.github.io/' class="nav_brand nav_item" title="JerrysBlog">JerrysBlog
  <div class="nav_close">
    <div><svg class="icon">
  <title>open-menu</title>
  <use xlink:href="#open-menu"></use>
</svg>
<svg class="icon">
  <title>closeme</title>
  <use xlink:href="#closeme"></use>
</svg>
</div>
  </div>
</a>

    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://jerrysmd.github.io/" class="nav_item" title="Home">Home </a>
  </div>
  <div class="nav_parent">
    <a href="https://jerrysmd.github.io/categories/technology/" class="nav_item" title="Technology">Technology </a>
  </div>
  <div class="nav_parent">
    <a href="https://jerrysmd.github.io/categories/life/" class="nav_item" title="Life">Life </a>
  </div>
  <div class="nav_parent">
    <a href="https://jerrysmd.github.io/about/" class="nav_item" title="About">About </a>
  </div>
      
<div class='follow'>
  <a href="https://github.com/Jerrysmd##">
    <svg class="icon">
  <title>github</title>
  <use xlink:href="#github"></use>
</svg>

  </a>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">Hbase Rowkey Design</h1>
  <div class="post_meta">
    <span><svg class="icon">
  <title>calendar</title>
  <use xlink:href="#calendar"></use>
</svg>
</span>
    <span class="post_date">
      Oct 16, 2020</span>
    <span class="post_time"> · 2 min read</span><span>&nbsp;· <a href='https://jerrysmd.github.io/tags/hbase' title="hbase" class="post_tag button button_translucent">hbase
        </a><a href='https://jerrysmd.github.io/tags/distribution' title="distribution" class="post_tag button button_translucent">distribution
        </a><a href='https://jerrysmd.github.io/tags/hdfs' title="hdfs" class="post_tag button button_translucent">hdfs
        </a>
    </span>
  </div>

      <div class="post_toc">
        <h2>Overview</h2>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#rowkey的作用">RowKey的作用</a>
      <ul>
        <li><a href="#rowkey在查询中的作用">RowKey在查询中的作用</a></li>
        <li><a href="#rowkey在region中的作用">RowKey在Region中的作用</a></li>
      </ul>
    </li>
    <li><a href="#rowkey的设计">RowKey的设计</a>
      <ul>
        <li><a href="#rowkey设计原则">RowKey设计原则</a></li>
        <li><a href="#rowkey字段选择">RowKey字段选择</a></li>
        <li><a href="#避免数据热点的方法">避免数据热点的方法</a></li>
      </ul>
    </li>
    <li><a href="#rowkey设计案例剖析">RowKey设计案例剖析</a></li>
    <li><a href="#rowkey总结">RowKey总结</a></li>
  </ul>
</nav>
      </div>
    
    <div class="post_body"><p>Rows in HBase are sorted lexicographically by row key. This design optimizes for scans, allowing you to store related rows, or rows that will be read together, near each other. However, poorly designed row keys are a common source of <em>hotspotting</em>. Hotspotting occurs when a large amount of client traffic is directed at one node, or only a few nodes, of a cluster. This traffic may represent reads, writes, or other operations. The traffic overwhelms the single machine responsible for hosting that region, causing performance degradation and potentially leading to region unavailability. This can also have adverse effects on other regions hosted by the same region server as that host is unable to service the requested load. It is important to design data access patterns such that the cluster is fully and evenly utilized.</p>
<h2 id="rowkey的作用">RowKey的作用</h2>
<h3 id="rowkey在查询中的作用">RowKey在查询中的作用</h3>
<p>HBase中RowKey可以唯一标识一行记录，在HBase中检索数据有以下三种方式：</p>
<ol>
<li>通过 <strong>get</strong> 方式，指定 <strong>RowKey</strong> 获取唯一一条记录</li>
<li>通过 <strong>scan</strong> 方式，设置 <strong>startRow</strong> 和 <strong>stopRow</strong> 参数进行范围匹配</li>
<li><strong>全表扫描</strong>，即直接扫描整张表中所有行记录</li>
</ol>
<p>当大量请求访问HBase集群的一个或少数几个节点，造成少数RegionServer的读写请求过多、负载过大，而其他RegionServer负载却很小，这样就造成<strong>热点现象</strong>。大量访问会使热点Region所在的主机负载过大，引起性能下降，甚至导致Region不可用。所以我们在向HBase中插入数据的时候，应尽量均衡地把记录分散到不同的Region里去，平衡每个Region的压力。</p>
<p>下面根据一个例子分别介绍下根据RowKey进行查询的时候支持的情况。</p>
<p>如果我们RowKey设计为<code>uid</code>+<code>phone</code>+<code>name</code>，那么这种设计可以很好的支持一下的场景:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">uid=873969725 AND phone=18900000000 AND name=zhangsanuid= 873969725 AND phone=18900000000uid= 873969725 AND phone=189?uid= 873969725
</span></span></code></pre></div><p>难以支持的场景：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">phone=18900000000 AND name = zhangsanphone=18900000000 name=zhangsan
</span></span></code></pre></div><p>从上面的例子中可以看出，在进行查询的时候，根据RowKey从前向后匹配，所以我们在设计RowKey的时候选择好字段之后，还应该结合我们的实际的高频的查询场景来组合选择的字段，越高频的查询字段排列越靠左。</p>
<h3 id="rowkey在region中的作用">RowKey在Region中的作用</h3>
<p>在 HBase 中，Region 相当于一个数据的分片，每个 Region 都有<code>StartRowKey</code>和<code>StopRowKey</code>，这是表示 Region 存储的 RowKey 的范围，HBase 表的数据时按照 RowKey 来分散到不同的 Region，要想将数据记录均衡的分散到不同的Region中去，因此需要 RowKey 满足这种散列的特点。此外，在数据读写过程中也是与RowKey 密切相关，RowKey在读写过程中的作用：</p>
<ol>
<li>读写数据时通过 RowKey 找到对应的 Region；</li>
<li>MemStore 中的数据是按照 RowKey 的字典序排序；</li>
<li>HFile 中的数据是按照 RowKey 的字典序排序。</li>
</ol>
<h2 id="rowkey的设计">RowKey的设计</h2>
<p>在HBase中RowKey在数据检索和数据存储方面都有重要的作用，一个好的RowKey设计会影响到数据在HBase中的分布，还会影响我们查询效率，所以一个好的RowKey的设计方案是多么重要。首先我们先来了解下RowKey的设计原则。</p>
<h3 id="rowkey设计原则">RowKey设计原则</h3>
<p><strong>长度原则</strong></p>
<p>RowKey是一个二进制码流，可以是任意字符串，最大长度为64kb，实际应用中一般为10-100byte，以byte[]形式保存，一般设计成定长。建议越短越好，不要超过16个字节，原因如下：</p>
<ol>
<li>数据的持久化文件HFile中时按照Key-Value存储的，如果RowKey过长，例如超过100byte，那么1000w行的记录，仅RowKey就需占用近1GB的空间。这样会极大影响HFile的存储效率。</li>
<li>MemStore会缓存部分数据到内存中，若RowKey字段过长，内存的有效利用率就会降低，就不能缓存更多的数据，从而降低检索效率。</li>
<li>目前操作系统都是64位系统，内存8字节对齐，控制在16字节，8字节的整数倍利用了操作系统的最佳特性。</li>
</ol>
<p><strong>唯一原则</strong></p>
<p>必须在设计上保证RowKey的唯一性。由于在HBase中数据存储是Key-Value形式，若向HBase中同一张表插入相同RowKey的数据，则原先存在的数据会被新的数据覆盖。</p>
<p><strong>排序原则</strong></p>
<p>HBase的RowKey是按照ASCII有序排序的，因此我们在设计RowKey的时候要充分利用这点。</p>
<p><strong>散列原则</strong></p>
<p>设计的RowKey应均匀的分布在各个HBase节点上。</p>
<h3 id="rowkey字段选择">RowKey字段选择</h3>
<p>RowKey字段的选择，遵循的<strong>最基本原则是唯一性</strong>，RowKey必须能够唯一的识别一行数据。无论应用的负载特点是什么样，RowKey字段都应该<strong>参考最高频的查询场景</strong>。数据库通常都是以如何高效的读取和消费数据为目的，而不是数据存储本身。然后，结合具体的负载特点，再对选取的RowKey字段值进行改造，组合字段场景下需要重点考虑字段的顺序。</p>
<h3 id="避免数据热点的方法">避免数据热点的方法</h3>
<p>在对HBase的读写过程中，如何避免热点现象呢？主要有以下几种方法：</p>
<p><strong>Reversing</strong></p>
<p>如果经初步设计出的RowKey在数据分布上不均匀，但RowKey尾部的数据却呈现出了良好的随机性，此时，可以考虑将RowKey的信息翻转，或者直接将尾部的bytes提前到RowKey的开头。Reversing可以有效的使RowKey随机分布，但是牺牲了RowKey的有序性。</p>
<p>缺点：</p>
<p>利于Get操作，但不利于Scan操作，因为数据在原RowKey上的自然顺序已经被打乱。</p>
<p><strong>Salting</strong></p>
<p>Salting（加盐）的原理是在原RowKey的前面添加固定长度的随机数，也就是给RowKey分配一个随机前缀使它和之间的RowKey的开头不同。随机数能保障数据在所有Regions间的负载均衡。</p>
<p>缺点：</p>
<p>因为添加的是随机数，基于原RowKey查询时无法知道随机数是什么，那样在查询的时候就需要去各个可能的Regions中查找，Salting对于读取是利空的。并且加盐这种方式增加了读写时的吞吐量。</p>
<p><strong>Hashing</strong></p>
<p>基于 RowKey 的完整或部分数据进行 Hash，而后将Hashing后的值完整替换或部分替换原RowKey的前缀部分。这里说的 hash 包含 MD5、sha1、sha256 或 sha512 等算法。</p>
<p>缺点：</p>
<p>与 Reversing 类似，Hashing 也不利于 Scan，因为打乱了原RowKey的自然顺序。</p>
<h2 id="rowkey设计案例剖析">RowKey设计案例剖析</h2>
<p><strong>1. 查询某用户在某应用中的操作记录</strong></p>
<blockquote>
<p>reverse(userid) + appid + timestamp</p>
</blockquote>
<p><strong>2. 查询某用户在某应用中的操作记录（优先展现最近的数据）</strong></p>
<blockquote>
<p>reverse(userid) + appid + (Long.Max_Value - timestamp)</p>
</blockquote>
<p><strong>3. 查询某用户在某段时间内所有应用的操作记录</strong></p>
<blockquote>
<p>reverse(userid) + timestamp + appid</p>
</blockquote>
<p><strong>4. 查询某用户的基本信息</strong></p>
<blockquote>
<p>reverse(userid)</p>
</blockquote>
<p><strong>5. 查询某eventid记录信息</strong></p>
<blockquote>
<p>salt + eventid + timestamp</p>
</blockquote>
<p>如果 <code>userid</code>是按数字递增的，并且长度不一，可以先预估 <code>userid</code> 最大长度，然后将<code>userid</code>进行翻转，再在翻转之后的字符串后面补0（至最大长度）；如果长度固定，直接进行翻转即可（如手机号码）。</p>
<p>在第5个例子中，加盐的目的是为了增加查询的并发性，加入Slat的范围是0~n，可以将数据分为n个split同时做scan操作，有利于提高查询效率。</p>
<h2 id="rowkey总结">RowKey总结</h2>
<p>在HBase的使用过程，设计RowKey是一个很重要的一个环节。我们在进行RowKey设计的时候可参照如下步骤：</p>
<ol>
<li>结合业务场景特点，选择合适的字段来做为RowKey，并且按照查询频次来放置字段顺序</li>
<li>通过设计的RowKey能尽可能的将数据打散到整个集群中，均衡负载，避免热点问题</li>
<li>设计的RowKey应尽量简短</li>
</ol>
    </div>




<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<div id="gitalk-container"></div>



  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    <br>
    
  
  <div class="search">
    <input type="search" class="search_field form_field" placeholder='Search...' id="find" autocomplete="off" data-scope='post'>
    <label for="find" class="search_label"><svg class="icon">
  <title>search</title>
  <use xlink:href="#search"></use>
</svg>

    </label>
    
    <div class="search_results results"></div>
  </div>

        <h2>JIARUI LIU</h2>
      <div class="author_bio">
        Technologist, perpetual student, continual incremental improvement.
      </div>
      <a href='https://jerrysmd.github.io/about/' class="button mt-1" role="button" title='Read More'>Read More</a>

    
    
    <h2 class="mt-4">Featured Posts</h2>
    <ul>
      <li>
        <a href="https://jerrysmd.github.io/post/20210308_dw_flink/article/" class="nav-link" title="Data Warehouse: Real-Time">Data Warehouse: Real-Time</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20210204_tensorflow_captcha/article/" class="nav-link" title="Tensorflow Identify Simple Captcha">Tensorflow Identify Simple Captcha</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20210108_dw_behavior_collection/article/" class="nav-link" title="Data Warehouse: Offline">Data Warehouse: Offline</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20201215_parquet_format/parquet_format/" class="nav-link" title="Parquet Format">Parquet Format</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20200811yarn-clusteryarn-client/article/" class="nav-link" title="Spark On Yarn: yarn-cluster, yarn-client">Spark On Yarn: yarn-cluster, yarn-client</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20200803sparkguide3/sparkguide3/" class="nav-link" title="Spark Guide, Part Ⅲ">Spark Guide, Part Ⅲ</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20200526apparchitecturedevelopment/article/" class="nav-link" title="The Development of App Architecture">The Development of App Architecture</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20200427kafka/kafka/" class="nav-link" title="Kafka &amp; Message Queue">Kafka &amp; Message Queue</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20190409cperformanceoptimization/cperformanceoptimization/" class="nav-link" title="C Project performance optimization">C Project performance optimization</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20181220read_binary_file/read_binary_file/" class="nav-link" title="C文件读取的高级方法：Advanced method of reading files">C文件读取的高级方法：Advanced method of reading files</a>
      </li>
    </ul>
    <h2 class="mt-4">Recent Posts</h2>
    <ul class="flex-column">
      <li>
        <a href="https://jerrysmd.github.io/post/20211218_2021_summary_video/article/" class="nav-link" title="Memories of 2021">Memories of 2021</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20210308_dw_flink/article/" class="nav-link" title="Data Warehouse: Real-Time">Data Warehouse: Real-Time</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20210204_tensorflow_captcha/article/" class="nav-link" title="Tensorflow Identify Simple Captcha">Tensorflow Identify Simple Captcha</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20210108_dw_behavior_collection/article/" class="nav-link" title="Data Warehouse: Offline">Data Warehouse: Offline</a>
      </li>
      <li>
        <a href="https://jerrysmd.github.io/post/20201215_parquet_format/parquet_format/" class="nav-link" title="Parquet Format">Parquet Format</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">Categories</h2>
      <nav class="tags_nav">
        <a href='https://jerrysmd.github.io/categories/technology/' class="post_tag button button_translucent" title="technology">
          TECHNOLOGY
          <span class="button_tally">41</span>
        </a>
        
        <a href='https://jerrysmd.github.io/categories/life/' class="post_tag button button_translucent" title="life">
          LIFE
          <span class="button_tally">2</span>
        </a>
        
        
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Tags</h2>
      <nav class="tags_nav">
        <a href='https://jerrysmd.github.io/tags/distribution/' class="post_tag button button_translucent" title="distribution">
          DISTRIBUTION
          <span class="button_tally">17</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/c/' class="post_tag button button_translucent" title="c">
          C
          <span class="button_tally">15</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/spark/' class="post_tag button button_translucent" title="spark">
          SPARK
          <span class="button_tally">6</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/hdfs/' class="post_tag button button_translucent" title="hdfs">
          HDFS
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/c&#43;&#43;/' class="post_tag button button_translucent" title="c&#43;&#43;">
          C&#43;&#43;
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/java/' class="post_tag button button_translucent" title="java">
          JAVA
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/sql/' class="post_tag button button_translucent" title="sql">
          SQL
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/database/' class="post_tag button button_translucent" title="database">
          DATABASE
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/datawarehouse/' class="post_tag button button_translucent" title="datawarehouse">
          DATAWAREHOUSE
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/file/' class="post_tag button button_translucent" title="file">
          FILE
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/hbase/' class="post_tag button button_translucent" title="hbase">
          HBASE
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/interview/' class="post_tag button button_translucent" title="interview">
          INTERVIEW
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/life/' class="post_tag button button_translucent" title="life">
          LIFE
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/linux/' class="post_tag button button_translucent" title="linux">
          LINUX
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/video/' class="post_tag button button_translucent" title="video">
          VIDEO
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/algorithm/' class="post_tag button button_translucent" title="algorithm">
          ALGORITHM
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/beijing/' class="post_tag button button_translucent" title="beijing">
          BEIJING
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/flink/' class="post_tag button button_translucent" title="flink">
          FLINK
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/git/' class="post_tag button button_translucent" title="git">
          GIT
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/graduation/' class="post_tag button button_translucent" title="graduation">
          GRADUATION
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/hash/' class="post_tag button button_translucent" title="hash">
          HASH
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/hive/' class="post_tag button button_translucent" title="hive">
          HIVE
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/hyperscan/' class="post_tag button button_translucent" title="hyperscan">
          HYPERSCAN
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/kafka/' class="post_tag button button_translucent" title="kafka">
          KAFKA
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/leetcode/' class="post_tag button button_translucent" title="leetcode">
          LEETCODE
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/machinelearning/' class="post_tag button button_translucent" title="machinelearning">
          MACHINELEARNING
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/nfs/' class="post_tag button button_translucent" title="nfs">
          NFS
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/python/' class="post_tag button button_translucent" title="python">
          PYTHON
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/scala/' class="post_tag button button_translucent" title="scala">
          SCALA
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/shanghai/' class="post_tag button button_translucent" title="shanghai">
          SHANGHAI
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/tensorflow/' class="post_tag button button_translucent" title="tensorflow">
          TENSORFLOW
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/usa/' class="post_tag button button_translucent" title="usa">
          USA
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jerrysmd.github.io/tags/zookeeper/' class="post_tag button button_translucent" title="zookeeper">
          ZOOKEEPER
          <span class="button_tally">1</span>
        </a>
        
        
      </nav>
    </div>
  </section>
</aside>

  
</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/> 
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="to-top">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="xing">
    <path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/>
  </symbol>
</svg>


<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://jerrysmd.github.io/icons_custom/apple-touch-icon.png' class="icon icon_2 transparent" alt="JerrysBlog">
    <p>Copyright&nbsp;<span class="year"></span>&nbsp;JERRYSBLOG. All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <title>to-top</title>
  <use xlink:href="#to-top"></use>
</svg>

</a>

  </div>
</footer>

<script type="text/javascript" src="https://jerrysmd.github.io/en/js/bundle.7e81ac137d1f84e941adfb92245f528909b3285c6967a9abcc0a1968fc4b04d260257a4985b0c5f7d54a9a764f354b296ce2f0f4b7c1e570439073a2d688e2fe.js" integrity="sha512-foGsE30fhOlBrfuSJF9SiQmzKFxpZ6mrzAoZaPxLBNJgJXpJhbDF99VKmnZPNUspbOLw9LfB5XBDkHOi1oji/g==" crossorigin="anonymous"></script>

  <script src="https://jerrysmd.github.io/js/search.min.c627ab876c70b15e3317a5a8d5ffc2ee41afd402f8cec1ec0fc7d89fd756a9f5b4aa6977b32e518ceb43af4fc09bab789b36c8ff61d209898f7e4d815115583a.js"></script>

  </body>
</html>
